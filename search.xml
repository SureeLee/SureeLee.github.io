<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[计算机网络]]></title>
    <url>%2F2018%2F07%2F26%2F%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%2F</url>
    <content type="text"><![CDATA[1. OSI有哪几层？每层作用？每层协议？从下至上： 物理层作用：确保比特流可以在任意物理介质上传输协议：RJ4、IEEE802.3、CLOCK设备：中继器、集线器数据链路层作用：将源主机网络层的数据传输到目的主机的网络层，在不可靠的物理介质上实现可靠传输，只能在局域网中传输协议：PPP、HDLC、LLC、MAC设备：网桥、交换机网络层作用：负责数据包的转发、分组、交换，路由寻址，网络层可以跨局域网传输协议：IP、ICMP、ARP、RARP、IGMP、RIP、OSPF、BGP设备：路由器传输层作用：将上层数据分段并提供端到端的流量控制和差错检测，对高层屏蔽通信细节协议：TCP、UDP、连续ARQ协议、停止等待协议、滑动窗口协议会话层作用：建立、管理、终止会话协议：RPC、NFS、SQL表示层作用:负责数据压缩、恢复、加密等协议：JPEG、MPEG、ASII应用层作用：为操作系统和应用程序提供网络接口，使其可以使用网络交互协议：FTP、DNS、HTTP、WWW、SMTP、Telnet 2. ip地址分类？ A类地址以0开头，第一个字节作为网络号，地址范围为：0.0.0.0~127.255.255.255；(modified @2016.05.31)B类地址以10开头，前两个字节作为网络号，地址范围是：128.0.0.0~191.255.255.255;C类地址以110开头，前三个字节作为网络号，地址范围是：192.0.0.0~223.255.255.255。D类地址以1110开头，地址范围是224.0.0.0~239.255.255.255，D类地址作为组播地址（一对多的通信）；E类地址以1111开头，地址范围是240.0.0.0~255.255.255.255，E类地址为保留地址，供以后使用。255.255.255.255为受限广播地址，作用范围为本地网络0.0.0.0代指本机地址127.0.0.1网络回环地址，用户测试 3. 硬件（MAC）地址的概念及作用 MAC地址是计算机的唯一标识，在数据链路层中，交换机通过识别MAC地址进行数据包的传输。长度为6字节48比特 4. ARP协议的用途及算法、在哪一层上会使用ARP ？ 用途：解决一个局域网内主机或路由器的ip地址和mac地址的映射问题算法：每个主机的ARP高速缓存中存放一张ip和mac 的映射表，并时常更新网络层上使用ARP 5. 如何实现透明传输 透明传输概念：数据透明传输就是用户不受协议中的任何限制，可随机的传输任意比特编码的信息实现透明传输技术：1. 转义字符填充 2. 零比特填充 3. 采用特殊的信号与编码 4. 确定长度(就不需要帧定界符) 6. 各个层使用的网络设备及作用 物理层用到的设备是集线器和中继器数据链路层用到的设备是交换机和网桥网络层用到的设备是路由器应用层用到的设备是网关中继器的主要功能是对接收到的信号进行再生整形放大以扩大网络的传输距离。集线器在此基础上将所有的节点集中在以它为中心的节点中，可组成星型拓扑结构。交换机是一种基于MAC识别，能完成封装转发数据包功能的网络设备。它可以“学习”MAC地址，并把其存放在内部地址表中，当一个数据帧的目的地址在MAC地址表中有映射时，它被转发到连接目的节点的端口而不是所有端口。交换机将局域网分为多个冲突域，每个冲突域都是有独立的宽带，因此大大提高了局域网的带宽。网桥具有近具有两个端口，而交换机具有多个端口，网桥可以简单看作低配的交换机路由器用于连接多个逻辑上分开的网络，具有判断网络地址和选择IP路径的功能，它能在多网络互联环境中，建立灵活的连接，可用完全不同的数据分组和介质访问方法连接各种子网。网关在网络层以上实现网络互连，用于两个高层协议不同的网络互连。与网桥只是简单地传达信息不同，网关对收到的信息要重新打包，以适应目的系统的需求。 7. 路由表的内容 destination mask pre ads costdestination：目的地址，用来标识IP包 的目的地址或者目的网络。 mask：网络掩码，与目的地址一起标识目的主机或者路由器所在的网段的地址。 pre：标识路由加入IP路由表的优先级。可能到达一个目的地有多条路由，但是优先级的存在让他们先选择优先级高的路由进行利用。 cost：路由开销，当到达一个目的地的多个路由优先级相同时，路由开销最小的将成为最优路由。 interface：输出接口，说明IP包将从该路由器哪个接口转发。 nexthop：下一跳IP地址，说明IP包所经过的下一个路由器 7. 路由转发算法 路由器接到一个数据报（MAC帧），先从IP数据报的首部提取目的主机的IP地址D，得出目的主机所在的网络地址N。（IP数据报首部中包含源地址和目的地址） 如果N就是这个路由器直接相连的某个网络，则可以进行直接交付；否则执行3. 如果路由表中有目的地址D的特定主机路由，则把数据报传送给路由表中所指明的下一跳路由器；否则执行4. 如果路由表中有到达网络N的路由，则把数据报传送给路由表所指明的下一跳路由器；否则执行5. 如果路由表中有一个默认路由，则把数据报传送给路由表中所指明的默认路由器；否则执行6.6.报告转发分组报错。 8. MTU和路径MTU 路径MTU：路径MTU是指一条因特网传输路径中，从源地址到目的地址所经过的“路径”上的所有IP跳的最大传输单元的最小值。或者从另外一个角度来看，就是无需进行分片处理就能穿过这条“路径”的最大传输单元的最大值。路径MTU的发现方法：这是确定两个IP主机之间路径最大传输单元的技术，其目的就是为了避免IP分片。首先源地址将数据报的DF位置位，在逐渐增大发送的数据报的大小——路径上任何需要将分组进行分片的设备都会将这种数据报丢弃并返回“数据报过大“的ICMP响应到源地址——这样源主机就”学习“到了无需分片就能通过这条路径的最大的最大传输单元。 9. ping的实现原理 Ping（Packet InterNet Groper）分组网间探测是ICMP的一个重要应用，用 来测试两个主机之间的连通性。Ping使用了ICMP回送请求与回送回答报文。Ping是应用层直接使用网络层ICMP的一个例子。它没有通过运输层的TCP或UDP。实现原理为向目的主机发送4个32字节长的ICMP回送请求报文，若目的主机正常工作并且响应了该ICMP回送请求报文，就将发回ICMP回送回答报文。最后可得出的统计结果为目的IP地址，发送的，收到的和丢失的分组数，及往返时间的最小值、最大值和平均值。 10. 子网划分和子网掩码 划分子网是在本网络内部，对外仍然只有一个网络。子网划分从主机号借位变成子网号，三级地址：网络号：子网号：主机号子网掩码也是32位，由一串1和跟随的一串0组成。子网掩码中的1对应于IP地址中原来的网络号和子网号，而子网掩码中的0对应于现在的主机号。故将子网掩码和IP地址进行按位”与“运算（AND），就可得出网络地址。 11. ip地址分类 ip分类 12. DNS查询算法 DNS查询有两种方法，第一种是递归查询，主机向本地域名服务器请求，若本地域名服务器不知道，则由服务器继续向顶级域名服务器发送请求。第二种是迭代查询，当本地域名服务器像顶级服务器发送请求后，顶级服务器会告诉你应该向哪个服务器发送请求，然后由本地服务器继续请求，而不是由顶级服务器帮你发送。 13. TCP与UDP TCP（Transmission Control Protocol）TCP是一种面向连接的，提供可靠交付服务和全双工通信的，基于字节流的端到端的传输层通信协议。 TCP在传输数据之前必须先建立连接，数据传输结束后要释放连接。 每一条TCP连接只能有2个端点，故TCP不提供广播或多播服务。 TCP提供可靠交付，通过TCP连接传输的数据，无差错、不丢失、不重复、并且按序到达。 TCP是面向字节流的。虽然应用进程和TCP的交互是一次一个数据块(大小不等），但TCP把英语程序交下来的数据看成仅仅是一连串的无结构的字节流。TCP并不知道所传输的字节流的含义。UDP（User Datagram Protocol）UDP是一种无连接的，尽最大努力交付的，基于报文的端到端的传输层通信协议。 UDP，在发送数据之前不需要建立连接 UDP不保证可靠交付，主机不需要位置复杂的连接状态 UDP是面向报文的。UDP对应用层交下来的报文，既不合并，也不拆分，而是保留这些报文的的边界，即应用层交给UDP多长的报文，UDP就照样发送，即一次发送一个报文。在接收端，UDP一次交付一个完整的报文。 UDP没有拥塞控制，网络出现的拥塞不会使源主机的发送速率降低。 UDP支持一对一、一对多、多对一和多对多的交互通信。 UDP的首部开销小，只有8个字节，比TCP的20个字节的首部要短。区别 TCP协议面向连接，UDP协议面向非连接 TCP协议传输速度慢，UDP协议传输速度快 TCP协议保证数据顺序，UDP协议不保证 TCP协议保证数据正确性，UDP协议可能丢包 TCP协议对系统资源要求多，UDP协议要求少 TCP是面向字节流的，UDP是面向报文的使用情况TCP协议适用于对效率要求相对低，但对准确性要求相对高的场景下，或者是有一种连接概念的场景下；而UDP协议适用于对效率要求相对高，对准确性要求相对低的场景。对应协议TCP对应协议：FTP，Telnet、SMTP、POP3、HTTP、HTTPSUDP对应协议:DNS、SNMP、TFTP 14. MAC帧首尾部、ip首部、TCP、UDP首部 帧长度由于协议不同不固定，其中ppp帧长度64~1518字节，MTU最大传输单元46~1500字节ip首部长度20~60字节TCP首部长度20~60字节UDP首部长度8字节ip首部TCP首部UDP首部 15. 三次握手，四次断开过程 在TCP连接建立过程中要解决以下3个问题： 要使每一方能够确知对方的存在 要允许双方协商一些参数（如最大窗口值，是否使用窗口扩大选项和时间戳选项以及服务质量） 能够对运输实体资源（如缓存大小、连接表中的项目等）进行分配TCP连接的建立采用客户服务器方式。主动发起连接建立的应用进程是客户，而被动等待连接建立的应用进程是服务器。具体过程 16. 为什么客户端在TIME-WAIT状态必须等待2MSL的时间？ 客户端发送的最后一个确认连接中断的ACK报文段可能丢失，因而使处在 LAST-ACK状态的服务器收不到确认。服务器会超时重传FIN+ACK报文段，客户端就能在2MSL时间内收到这个重传的FIN+ACK报文段，接着客户端重传一次确认，重启计时器。最好，客户端和服务器都正常进入到CLOSED状态。如果客户端在TIME-WAIT状态不等待一段时间，而是再发送完ACK报文后立即释放连接，那么就无法收到服务器重传的FIN+ACK报文段，因而也不会再发送一次确认报文。这样，服务器就无法按照正常步骤进入CLOSED状态。 防止已失效的连接请求报文段出现在本连接中。客户端在发送完最后一个ACK确认报文段后，再经过时间2MSL，就可以使本连接持续的时间内所产生的所有报文段都从网络中消失。这样就可以使下一个新的连接中不会出现这种旧的连接请求报文段。 17. 停止等待协议、连续ARQ协议、滑动窗口协议 ARQ协议，即自动重传请求（Automatic Repeat-reQuest），发送方发送之后会设置一个重传计时器(时间略长于数据往返时间)，如果超过这个时间没有收到确认就自动重传，ARQ包括停止等待协议和连续ARQ协议。停止等待协议：一次只发送和接受一个数据，信道利用率低连续ARQ协议（由滑动窗口协议实现）：一次发送多个数据，不需要逐个收到确认，接收方会对按序到达的最后一个分组发送确认，就代表之前的都正确接收。若发送方发送了前5个分组，而第3个分组丢失了，接收方只能对前2个发出确认。发送方而不知道后面3个分组的下落，因此只能把后面的3个分组都重传一次，这种机制叫Go-back-N（回退N），表示需要再退回来重传已发送过的N个分组。滑动窗口协议：滑动窗口协议在在发送方和接收方之间各自维持一个滑动窗口，发送发是发送窗口，接收方是接收窗口，而且这个窗口是随着时间变化可以向前滑动的。它允许发送方发送多个分组而不需等待确认。TCP的滑动窗口是以字节为单位的。 18. 拥塞控制 发送方会维持一个拥塞窗口cwnd，发送的窗口上限值=Min[rwnd,cwnd]，rwnd是接收方发送过来的允许发生窗口大小。 慢开始 发送窗口由小到大，根据传输轮次成指数增长，同时设置一个慢开始门限ssthresh，当超过这个限制时采取拥塞避免算法。 拥塞避免 每个传输轮次发送窗口增大1在慢开始和拥塞避免过程中如果发送拥塞，则将ssthresh变为拥塞窗口的一半，并将发送窗口重设为1，重新开始慢开始算法。 快重传 当接收方收到一个失序报文就立即发送前一个正确报文的重复确认，当发送方连续收到三个重复确认后，立即重传未收到确认的报文，而不等到重传计时器到期。 快恢复 如果连续收到三个重复确认，就立即将ssthresh减小一半，然后开始执行拥塞避免算法，而不是从新开始执行慢开始。 19. ICMP协议和IGMP协议 ICMP的全称是 Internet Control Message Protocol 。从技术角度来说，ICMP就是一个“错误侦测与回报机制”，其目的就是让我们能够检测网路的连线状况﹐也能确保连线的准确性﹐其功能主要有： 侦测远端主机是否存在 建立及维护路由资料 重导数据传送路径 数据流量控制组播：加入同一个组的主机可以接收到此组内的所有数据，网络中的交换机和路由器只向有需求者复制并转发其所需数据。主机可以向路由器请求加入或退出某个组，网络中的路由器和交换机有选择的复制并传输数据，即只将组内数据传输给那些加入组的主机。这样既能一次将数据传输给多个有需要（加入组）的主机，又能保证不影响其他不需要（未加入组）的主机的其他通讯广播：是指在IP子网内广播数据包，所有在子网内部的主机都将收到这些数据包。广播意味着网络向子网每一个主机都投递一份数据包，不论这些主机是否乐于接收该数据包。所以广播的使用范围非常小，只在本地子网内有效，通过路由器和网络设备控制广播传输。IGMP（Internet Group Management Protocol）它用来在ip主机和与其直接相邻的组播路由器之间建立、维护组播组成员关系。让连接在本地局域网上的组播路由器知道本局域网上是否有主机上的某个进程参加或退出了某个组播组。 20. RIP协议和OSPF协议 路由信息协议RIP是一种分布式的基于距离向量的路由选择协议属于内部网关协议。RIP协议中的“距离”也称为“跳数”，因为每经过一个路由器，跳数就加1。算法： 对每一个相邻路由器发送过来的RIP报文，进行以下步骤： 对地址为X的相邻路由器发来的RIP报文，先修改此报文中的所有项目：把“下一跳”字段中的地址都改为X，并把所有的”距离”字段的值加1.每个项目都有三个关键数据，即：目的网络N，距离是d，下一跳路由器是X。 对修改后的RIP报文中的每一个项目，进行如下步骤：若原来的路由表中没有目的网络N，则把该项目添加到路由表中，若下一跳路由器地址是X，则把收到的项目替换原路由表中的项目若收到的项目中距离d小于路由表中的距离，则进行更新 若3分钟还没有收到相邻路由器的更新路由表，则把此相邻路由器记为不可到达的路由器，即把距离设置为16。 返回OSPF协议：底层是迪杰斯特拉算法，是链路状态路由选择协议，它选择路由的度量标准是带宽，延迟。 21. NAT协议、DHCP协议、DNS协议的作用 NAT协议：网络地址转换(NAT,Network AddressTranslation)属接入广域网(WAN)技术，是一种将私有（保留）地址转化为合法IP地址的转换技术，它被广泛应用于各种类型Internet接入方式和各种类型的网络中。原因很简单，NAT不仅完美地解决了lP地址不足的问题，而且还能够有效地避免来自网络外部的攻击，隐藏并保护网络内部的计算机。DHCP协议：动态主机设置协议（Dynamic Host ConfigurationProtocol, DHCP）是一个局域网的网络协议，使用UDP协议工作，主要有两个用途：给内部网络或网络服务供应商自动分配IP地址，给用户或者内部网络管理员作为对所有计算机作中央管理的手段。 22. 常用端口号 21 FTP22 SSH23 Telnet25 SMTP53 DNS80 HTTP110 POP3443 HTTPS1080 Sockets1521 oracle3306 mysql 23. 电路交换和分组交换 电路交换在通信前通信双方要建立一条被双方独占的物理链路，三个阶段是建立连接，交换，释放连接优点：数据传输延时小。按顺序发送，不存在失序问题。即可以传输模拟信号也可以传输数字信号。随时通信，随机性强。设备简单。缺点：建立连接时间长。不能被其他用户使用，信道利用率低。不同类型的终端难以互相通信，也难以进行差错控制。分组交换以分组为单位进行转发和交换，采用存储-转发的方式，分组会被暂存在存储器上临时存储和处理，等待后续发送。优点：不需要为通信双方事先建立连接，不存在建立连接时延，随时发送。可以任意选择合适的线路进行发送，增加可靠性。通信双方不是固定占有一条线路，而是分时分段占有，增加信道利用率。一个分组可以转发给多个目标。在存储转发中容易实现代码转换和速率匹配，这样就便于不同类型的终端之间进行通信。分组断，出错几率较低。缺点：要经历存储-转发这一过程，增加了转发时延。仅适用于数字信号。可能会出现，失序、丢失或重复分组的情况，增加了后续排序的工作。每个分组都要加上一些额外信息，增加了信息量。]]></content>
      <categories>
        <category>面试</category>
      </categories>
      <tags>
        <tag>网络</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Hello World]]></title>
    <url>%2F2018%2F07%2F26%2Fhello-world%2F</url>
    <content type="text"><![CDATA[Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new "My New Post" More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment]]></content>
  </entry>
</search>
